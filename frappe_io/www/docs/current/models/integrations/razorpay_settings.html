<!-- title: Razorpay Settings -->
<!-- add-breadcrumbs -->





<h1>Razorpay Settings</h1>
<div class="dev-header">

<a class="btn btn-default btn-sm" disabled style="margin-bottom: 10px;">
	Version 8.7.4</a>


	<a class="btn btn-default btn-sm" href="https://github.com/frappe/frappe/tree/develop/frappe/integrations/doctype/razorpay_settings"
		target="_blank" style="margin-left: 10px; margin-bottom: 10px;"><i class="octicon octicon-mark-github"></i> Source</a>

</div>

<span class="label label-info">Single</span>






<h3>Fields</h3>

<table class="table table-bordered docfields">
    <thead>
        <tr>
            <th style="width: 5%">Sr</th>
            <th style="width: 25%">Fieldname</th>
            <th style="width: 20%">Type</th>
            <th style="width: 25%">Label</th>
            <th style="width: 25%">Options</th>
        </tr>
    </thead>
    <tbody>
        
        <tr >
            <td>1</td>
            <td class="danger" title="Mandatory"><code>api_key</code></td>
            <td >
                Data</td>
            <td >
                API Key
                
            </td>
            <td></td>
        </tr>
        
        <tr >
            <td>2</td>
            <td class="danger" title="Mandatory"><code>api_secret</code></td>
            <td >
                Password</td>
            <td >
                API Secret
                
            </td>
            <td></td>
        </tr>
        
        <tr >
            <td>3</td>
            <td ><code>redirect_to</code></td>
            <td >
                Data</td>
            <td >
                Redirect To
                <p class="text-muted small">
                    Mention transaction completion page URL</p>
            </td>
            <td></td>
        </tr>
        
    </tbody>
</table>


    <hr>
    <h3>Controller</h3>
    <h4>frappe.integrations.doctype.razorpay_settings.razorpay_settings</h4>

    

<h2>Introduction</h2><br><h1>Integrating RazorPay</h1>

<h3>Validate Currency</h3>

<p>Example:</p>

<pre><code>from frappe.integrations.utils import get_payment_gateway_controller

controller = get_payment_gateway_controller("Razorpay")
controller().validate_transaction_currency(currency)
</code></pre>

<h3>2. Redirect for payment</h3>

<p>Example:</p>

<pre><code>payment_details = {
    "amount": 600,
    "title": "Payment for bill : 111",
    "description": "payment via cart",
    "reference_doctype": "Payment Request",
    "reference_docname": "PR0001",
    "payer_email": "NuranVerkleij@example.com",
    "payer_name": "Nuran Verkleij",
    "order_id": "111",
    "currency": "INR",
    "payment_gateway": "Razorpay"
}

# Redirect the user to this url
url = controller().get_payment_url(**payment_details)
</code></pre>

<h3>3. On Completion of Payment</h3>

<p>Write a method for <code>on_payment_authorized</code> in the reference doctype</p>

<p>Example:</p>

<pre><code>def on_payment_authorized(payment_status):
    # this method will be called when payment is complete
</code></pre>

<h5>Notes:</h5>

<p>payment_status - payment gateway will put payment status on callback.
For razorpay payment status is Authorized</p>
<br><br>

	
        
	<h3 style="font-weight: normal;">Class <b>RazorpaySettings</b></h3>
    
    <p style="padding-left: 30px;"><i>Inherits from frappe.model.document.Document</i></h4>
    
    <div class="docs-attr-desc"><p></p>
</div>
    <div style="padding-left: 30px;">
        
        
    
    
	<p class="docs-attr-name">
        <a name="authorize_payment" href="#authorize_payment" class="text-muted small">
            <i class="fa fa-link small" style="color: #ccc;"></i></a>
		<b>authorize_payment</b>
        <i class="text-muted">(self)</i>
    </p>
	<div class="docs-attr-desc"><pre><code>    An authorization is performed when user’s payment details are successfully authenticated by the bank.
    The money is deducted from the customer’s account, but will not be transferred to the merchant’s account
    until it is explicitly captured by merchant.
</code></pre>
</div>
	<br>

        
        
    
    
	<p class="docs-attr-name">
        <a name="create_request" href="#create_request" class="text-muted small">
            <i class="fa fa-link small" style="color: #ccc;"></i></a>
		<b>create_request</b>
        <i class="text-muted">(self, data)</i>
    </p>
	<div class="docs-attr-desc"><p><span class="text-muted">No docs</span></p>
</div>
	<br>

        
        
    
    
	<p class="docs-attr-name">
        <a name="get_payment_url" href="#get_payment_url" class="text-muted small">
            <i class="fa fa-link small" style="color: #ccc;"></i></a>
		<b>get_payment_url</b>
        <i class="text-muted">(self)</i>
    </p>
	<div class="docs-attr-desc"><p><span class="text-muted">No docs</span></p>
</div>
	<br>

        
        
    
    
	<p class="docs-attr-name">
        <a name="get_settings" href="#get_settings" class="text-muted small">
            <i class="fa fa-link small" style="color: #ccc;"></i></a>
		<b>get_settings</b>
        <i class="text-muted">(self, data)</i>
    </p>
	<div class="docs-attr-desc"><p><span class="text-muted">No docs</span></p>
</div>
	<br>

        
        
    
    
	<p class="docs-attr-name">
        <a name="validate" href="#validate" class="text-muted small">
            <i class="fa fa-link small" style="color: #ccc;"></i></a>
		<b>validate</b>
        <i class="text-muted">(self)</i>
    </p>
	<div class="docs-attr-desc"><p><span class="text-muted">No docs</span></p>
</div>
	<br>

        
        
    
    
	<p class="docs-attr-name">
        <a name="validate_razorpay_credentails" href="#validate_razorpay_credentails" class="text-muted small">
            <i class="fa fa-link small" style="color: #ccc;"></i></a>
		<b>validate_razorpay_credentails</b>
        <i class="text-muted">(self)</i>
    </p>
	<div class="docs-attr-desc"><p><span class="text-muted">No docs</span></p>
</div>
	<br>

        
        
    
    
	<p class="docs-attr-name">
        <a name="validate_transaction_currency" href="#validate_transaction_currency" class="text-muted small">
            <i class="fa fa-link small" style="color: #ccc;"></i></a>
		<b>validate_transaction_currency</b>
        <i class="text-muted">(self, currency)</i>
    </p>
	<div class="docs-attr-desc"><p><span class="text-muted">No docs</span></p>
</div>
	<br>

        
    </div>
    <hr>

	

	
        
    
    
	<p class="docs-attr-name">
        <a name="frappe.integrations.doctype.razorpay_settings.razorpay_settings.capture_payment" href="#frappe.integrations.doctype.razorpay_settings.razorpay_settings.capture_payment" class="text-muted small">
            <i class="fa fa-link small" style="color: #ccc;"></i></a>
		frappe.integrations.doctype.razorpay_settings.razorpay_settings.<b>capture_payment</b>
        <i class="text-muted">(is_sandbox=False, sanbox_response=None)</i>
    </p>
	<div class="docs-attr-desc"><pre><code>    Verifies the purchase as complete by the merchant.
    After capture, the amount is transferred to the merchant within T+3 days
    where T is the day on which payment is captured.

    Note: Attempting to capture a payment whose status is not authorized will produce an error.
</code></pre>
</div>
	<br>

	


    
    


<!-- autodoc -->
<!-- jinja -->
<!-- static -->